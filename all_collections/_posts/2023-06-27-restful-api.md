---
layout: post
title: 🏰RESTful API
date: 2023-06-27
categories: ["SamBeak", "REST API", "RESTful API", "API"]
---

# RESTful API : 웹 개발에서 필수적인 아키덱처 스타일

## 1. RESTful API 개념과 원리

🟢 RESTful API 란 ? <br>

> Representational State Transfer API를 가리키는 말로, <br>
> 자원 즉, Resource💎를 네트워크상에서 효율적으로 전송하기 위한 아키텍처 스타일이다.🚚<br>

<br>
🟢 RESTful API가 네트워크에서 자원을 효율적으로 전송한다는 말이 무슨 의미일까? <br>

> 그 의미는 자원 접근과 HTTP메서드 활용, 상태 정보의 전달, 캐싱 처리 등의 측면에서 이해할 수 있다. <br><br>
> RESTful API의 효율성은 RESTful API가 자원을 단순하고 직관적으로 표현하고, <br>
> HTTP 프로토콜의 기능과 특징을 적극적으로 활용하면서 가능해진다. <br>
> 자원의 효율적인 전송은 네트워크 대역폭의 최적화, 서버 및 클라이언트 자원 사용의 최소화 등을 통해 <br>
> 전체적인 시스템 성능을 향상시키는 장점을 제공한다. <br>

<br>
🟢 RESTful API는 주요 원칙에 기반을 두고 작성을 하는데, 다음을 기억해야한다. <br>

- **자원(Resource💎)지향적** : RESTful API의 주요 컨셉은 자원이고 각 자원은 URI(Uniform Resource Identifier 고유한 식별자)를 갖고 있다. <br><br>
- **무상태성(Stateless)** : 서버는 클라이언트의 상태를 관리하지 않고 각 요청은 필요한 정보를 포함하여 완전한 요청으로 처리한다. <br><br>
- **통일된 인터페이스** : RESTful API는 표준 HTTP 메서드(GET,POST,PUT,DELETE 등)를 사용하여 자원에 대한 작업(CRUD operation)을 정의한다. <br><br>
- **자체표현성(Self-descriptive)** : API 요청과 응답은 자체적으로 이해할 수 있는 구조로 구성되어야한다. 요청 헤더에 MIME 타입을 명시하거나 응답에 적정 상태 코드와 페이로드(payload)를 포함하는게 그 예다. <br><br>
- **계층 구조** : 서버와 클라이언트 사이에 중간 계층(로드 벨런서, 캐싱 서버 등)을 포함하여 확장성과 보안성을 개선할 수있다. <br><br>
- **캐싱 처리(Cacheable)** : RESTful API는 캐싱을 활용하여 이전에 요청된 자원의 정보를 저장하고 재사용한다. 클라이언트는 필요한 자원을 캐시에서 가져오므로 서버에 대한 요청을 줄이고 네트워크 대역폭을 절약할 수 있다. 또한, RESTful API 서버에서 \*트랜잭션(transaction)이 발생하지 않아 전체 응답시간, 자원 이용률, 성능이 향상한다. <br><br>

> \*데이터베이스에서 하나의 논리적 기능을 수행하기 위한 작업의 단위로서, 데이터베이스 시스템에서 복구 및 병행 시행 시 처리되는 작업의 논리적 단위이다.

<br>
🟢 서버가 클라이언트의 상태를 관리하지 않는 이유 <br><br>

- 무상태성(Stateless) : RESTful API의 핵심 원칙 중 하나로, 서버는 클라이언트의 이전 요청을 기억하지 않고 각 요청을 독립적으로 처리한다. 서버가 클라이언트의 상태를 관리하지 않으면 클라이언트 간의 요청을 서로 구분하지 않아도 되기 때문에 서버의 부하를 줄이고 확장성을 향상시킬 수 있다. <br><br>
- 확장성 : RESTful API는 서버의 확장성을 향상시키기 위해 상태를 클라이언트 측에서 관리한다. 클라이언트 자체적으로 상태를 추적하고 관리하여 여러 서버 인스턴스로의 확장이 용이해진다. 또한, 서버는 상태 정보를 저장하거나 동기화하는 데 소요되는 오버헤드를 줄일 수 있다.<br><br>
- 클라이언트의 자율성 : 클라이언트 자체적으로 상태를 관리하여 클라이언트는 독립적으로 동작한다. 클라이언트는 서버에 종속되지 않고 필요에 따라 서버를 변경하거나 여러 서버 간에 전환할 수 있다. 이는 클라이언트의 유연성과 독립성을 높인다. <br><br>
- 네트워크 부하 감소 : 클라이언트와 서버 간의 통신에서 소요되는 데이터의 양을 줄일 수 있다. <br><br>
  즉, RESTful API에서 서버가 클라이언트의 상태를 관리하지 않는 것은 확장성, 무상태성, 클라이언트의 자율성, 네트워크 부하 감소 등 이점을 제공하기 위한 선택이다. RESTful API를 통해 클라이언트는 필요한 상태 정보를 제공하고, 서버는 상태에 대한 응답을 처리하는 단순하고 유연한 아키텍처를 구현할 수 있다.
  <br>

🟢 RESTful API의 사용 과정 <br>

> 자원 식별 ➖ HTTP 메서드 선택 ➖ 요청 구성 ➖ 요청 전송 ➖ 응답 처리 <br><br>
> 자원식별 : 자원은 URI(고유한 식별자)를 갖고있으므로 API를 사용하여 접근하고자하는 자원을 식별한다. <br>
> HTTP 메서드 선택 : 식별한 자원에 대해 수행하고자하는 작업에 적합한 HTTP 메서드를 선택한다. <br>
> 요청 구성 : 선택한 HTTP 메서드와 함께 요청을 구성합니다. 요청에는 필요한 매개변수, 헤더, 바디(payload) 등을 포함할 수 있다. <br>
> 요청 전송 : 구성한 요청을 HTTP 클라이언트를 통해 서버로 전송한다. <br>
> 응답 처리 : 서버는 요청을 처리하고, 해당 작업에 대한 응답을 반환한다. <br>

## 2. HTTP 메서드와 리소스💎 관리

🟢 RESTful API = 리소스 URI + HTTP Methods <br>

> RESTful API는 자원의 URI와 HTTP 메서드를 조합하여 원하는 동작을 정의한다.

<br>
 🟢 HTTP Methods <br>

> | METHOD | 역할                                                                                   | CRUD   |
> | ------ | -------------------------------------------------------------------------------------- | ------ |
> | POST   | POST를 통해 해당 URI를 요청하면 리소스를 생성하거나 데이터를 제출한다.                 | Create |
> | GET    | GET을 통해 리소스의 조회를 요청한다. 서버는 해당 리소스를 반환한다.                    | Read   |
> | PUT    | PUT을 통해 특정 리소스를 업데이트 또는 생성한다. 전체 리소스를 업데이트할 때 사용한다. | Update |
> | PATCH  | PATCH를 통해 특정 리소스의 일부를 업데이트한다.                                        | Update |
> | DELETE | DELETE를 통해 해당 리소스를 삭제한다.                                                  | Delete |

<br>
🟢 리소스 관리 <br>

> 클라이언트는 각 리소스의 고유한 URI를 통해 자원에 접근하고 조작한다. <br>
> 예를 들어 '/users'는 사용자 리소스의 URI이며 '/users/{id}' 는 특정 사용자를 식별하는 URI이다. <br>
> 이러한 URI 를 통해 클라이언트는 특정한 행동을 수행할 수 있다. <br><br>
> 자원에 대한 행위는 HTTP 메서드를 통해서 표현하고 URI는 자원을 표현한다. <br><br>

<br>
🟢 리소스 관리의 일관된 URI 설계와 HTTP 메서드 사용으로 <br>

> 서버와 클라이언트 간의 상호작용을 단순화하고 일관성을 유지한다. <br>
> 이러한 방법은 간결하고 직관적인 API를 구축할 수 있도록 한다.

<br>
🟢 HTTP 메서드와 리소스 관리의 이점 <br>

> RESTful API의 HTTP 메서드와 리소스 관리는 표준화된 방식으로 클라이언트와 서버 간의 통신을 지원한다. <br>
> 또한, 확장성과 유지보수성을 높인다. <br>
> 이를 통해 클라이언트와 서버 간의 일관된 인터페이스를 유지할 수 있도록하고, <br>
> 효율적인 리소스 관리를 실현할 수 있다. <br>

## 3. RESTful API 디자인 원칙과 최적화 전략

<br>
 🟢 RESTful API 디자인 원칙 <br>

- 자원 중심(Resource-Centric) : API 엔드포인트는 자원을 중심으로 설계되어야 한다.<br>
  예를 들어 /users 는 권장하지만, /get-users는 권장하지 않는다. 행위는 메서드를 통해서 표현한다.<br><br>
- 표현 방식의 일관성(Consistent Representation) : API의 응답은 일관된 표현 방식을 사용한다. <br>
  대부분 JSON 형식이 널리 사용되며, 데이터 구조와 필드명은 일관성을 유지해야한다. <br><br>
- 적절한 HTTP메서드 사용(Proper Use of HTTP) : 작업의 의도에 맞게 메서드를 사용한다. <br><br>
- 적절한 상태 코드 반환(Proper Use of Status) : API 응답에는 적절한 HTTP 상태 코드를 포함해야한다. <br><br>
- HATEOAS(Hypermedia as the Engine of Application State) : API 응답에는 하이퍼미디어 링크를 포함하여 <br>
  클라이언트가 API의 상태와 사용 가능한 작업을 탐색할 수 있어야 한다. <br>
  <br>

🟢 RESTful API 최적화 전략 <br>

- 캐싱 활용 : 캐싱을 활용하여 이전에 요청된 자원의 정보를 저장하고 재사용한다. <br><br>
- 압축 및 압축 해제 : 데이터를 압축 전송하여 전송 용량을 줄이고 네트워크 대역폭을 절약한다.<br>
  클라이언트에서는 응답을 압축 해제하여 사용할 수 있어야한다. <br><br>
- 페이징(Pagination) : 대량의 데이터를 처리할 때, API 응답을 페이지별로 나누어 전송하고, <br>
  클라이언트에서 필요한 데이터를 요청하여 효율적으로 데이터를 처리할 수 있도록 한다. <br><br>
- 적절한 필터링과 정렬 : 데이터 검색을 위한 필터링 및 정렬 기능을 제공하여 <br>
  클라이언트가 원하는 데이터에 쉽게 접근하고 정렬할 수 있도록 한다. <br>

## 4. RESTful API와 클라이언트의 상호작용

<br>
🟢 요청과 응답의 흐름에 관하여 <br>

> RESTful API와 클라이언트의 상호작용은 클라이언트의 요청으로부터 시작한다. <br>
> 클라이언트는 HTTP메서드를 사용하여 API에 요청을 보내는데 해당 요청에는 자원(Resource)에 대해 <br>
> 원하는 작업을 함께 전송한다. 뿐만 아니라, 필요에 따라 클라이언트의 요청에는 헤더에 추가 정보나 인증 토큰 등을 <br>
> 포함해서 보내고, 데이터는 요청에 JSON 형식 등으로 포함해서 보낼 수도 있다. <br>

> 클라이언트가 요청을 마치면, API 서버는 해당 요청에 대한 처리를 수행한다. <br>
> 서버는 요청된 자원이나 작업에 대해 적절히 처리하고, 필요에 따라 DB나 외부 서비스와 연계해 데이터를 처리한다. <br>
> 또한, 서버는 요청에 대해서 검증, 데이터 유효성 검사, 비즈니스 로직 등을 수행한다. <br>

> 서버의 처리가 끝나면, 서버는 응답을 생성한다. 이러한 응답은 HTTP 상태 코드, 헤더, 데이터 본문 등으로 생성된다. <br>
> HTTP 코드는 200 OK, 201 Created, 400 Bad Request, 404 Not Found, 500 Internal Server Error 등이 있다. <br>
> 응답의 내용에는 요청에 대한 결과 데이터가 포함되고 대개 JSON 형식으로 반환된다. <br>

> 서버가 응답을 클라이언트에게 전달하면, 클라이언트는 해당 응답을 처리한다. <br>
> 클라이언트는 HTTP 코드를 확인하여 응답의 상태를 판단하고, 응답 내용에 표기된 데이터를 가공 및 활용해 <br>
> 사용자 인터페이스에 보여주거나 다음 요청에 활용한다. <br>

## 5. RESTful API의 확장성과 유지보수

<br>
🟢 RESTful API의 확장성 <br>

> RESTful API는 수평적으로 확장할 수 있다. 즉, 여러 대의 서버 인스턴스를 추가해 부하를 분산시킬 수 있다는 것이다. <br>
> 또, 로드 밸런서 같은 API 게이트웨이를 사용하여 요청을 조절하고 분산된 서버들 간의 통신을 관리할 수 있다. <br>
> 예를 들어, 클라우드 환경에서 API 서버를 여러 인스턴스로 확장하면 더 많은 요청을 처리할 수 있다. <br>

> RESTful API는 마이크로서비스 아키텍처에서 매우 중요한 역할을 수행한다. <br>
> 마이크로서비스는 작은 단위로 구성된 독립적인 서비스로 구성되며 각각의 마이크로서비스는 RESTful API를 통해 통신한다. <br>
> 마이크로서비스를 RESTful API를 통해 분리하면 개별적으로 개발, 배포, 확장할 수 있고 기능을 변경하거나 추가하는데 용이해진다. <br>

> RESTful API는 HTTP의 캐싱 기능을 활용하여 데이터를 캐시할 수 있다. <br>
> 동일한 요청에 대한 응답을 캐시 서버에 저장하여 중복 요청을 줄이고 응답 시간을 줄여 네트워크 부하를 감소시키고 확장성을 향상시킨다. <br>

**이러한 확장성 전략은 대규모 어플리케이션과 분산 시스템으로 갈수록 중요한데,** <br>
**RESTfulAPI를 수평적으로 확장시키고 마이크로서비스 아키텍처를 사용함으로써 어플리케이션은 더욱 유연하고 확장 가능해진다.** <br>

<br>
🟢 RESTful API의 유지보수 가능성 <br>

> RESTful API의 리소스 관리와 HTTP 메서드를 조합하는 방식은 개발자가 API를 이해하고 사용하기 쉽게 만든다. <br>
> 덧붙혀, API 디자인 원칙을 통한 일관성 있는 데이터 모델과 작업 방식은 유지보수를 용이하게 한다. <br>
> 이는 새로운 기능을 추가하거나 변경이 필요할 때, 일관성 있는 인터페이스로 작업 속도를 높여준다. <br>

> RESTful API는 역호환성에 유지해야한다. 기존 API를 변경하거나 업데이트 할 때는 반드시 하위 호환성을 고려하여 작업해야한다. <br>
> 이를 위해 API 버전 관리, 정확한 문서화, 적절한 에러 처리 등을 고려해야 한다. <br>
> 역호환성을 유지함으로써 클라이언트 어플리케이션은 원할하게 동작하며, 유지 과정에서 불필요한 호환성 문제를 최소화할 수 있다. <br>

> RESTful API는 비즈니스 로직을 서버 측에서 중앙 집중화하여 유지보수를 간소화한다. <br>
> 클라이언트는 단순하게 API를 호출하고, 응답을 처리하기만하면 되기때문에 <br>
> 어플리케이션 간의 일관성을 유지하고 로직 변경을 최소화 할 수 있다. <br>
> 이는 클라이언트 어플리케이션의 유지보수 비용이 낮추고, 서버측에서 로직을 관리하여 중복코드를 방지하고 효율적인 유지보수를 가능케한다. <br>

> RESTful API는 독립적으로 테스팅 및 디버깅을 할 수 있다는 장점을 갖고 있다. <br>
> 각 API 엔드포인트는 단위 테스트 및 모의 데이터를 활용하여 개발자가 쉽게 테스트할 수 있다. <br>

**최신 앱 개발 동향에서 이러한 RESTful API의 중요성은 점점 더 강조되고 있고, 어플리케이션은 점점 더 유연하고 확장되어간다.** <br>
